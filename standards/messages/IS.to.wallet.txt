****************
* Wallet to IS *
****************

=====================
= MINTING_KEY       =
= TRANSFER_TOKEN    =
= DSDB_KEY          =
=====================

MINTING_KEY
-----------

Wallet:
  MINTING_KEY_FETCH_DENOMINATION    #string(denomination)
    Prior:  Hello
    Follow: MINTING_KEY_PASS
            MINTING_KEY_FAILURE
            
  MINTING_KEY_FETCH_KEYID   #hexstring(key_id)
    Prior:  Hello
    Follow: MINTING_KEY_PASS
            MINTING_KEY_FAILURE

IS:
  MINTING_KEY_PASS  keycertificate
    Prior:  MINTING_KEY_FETCH_DENOMINATION
            MINTING_KEY_FETCH_KEYID
    Follow: Goodbye
            
  MINTING_KEY_FAILURE   "Reason"
                        Reasons:
                            Unknown denomination
                            Unknown key_id
    Prior:  MINTING_KEY_FETCH_DENOMINATION
            MINTING_KEY_FETCH_KEYID
    Follow: Goodbye
  


TRANSFER_TOKEN
--------------

Wallet:
  TRANSFER_TOKEN_REQUEST    #base64(transaction_id)
                            list(option1,...)
                            target
                            list(blind1,...)
                            list(coin1,...)
    Prior:  Hello
    Follow: TRANSFER_TOKEN_REJECT
            TRANSFER_TOKEN_ACCEPT
            TRANSFER_TOKEN_DELAY
            
  TRANSFER_TOKEN_RESUME #base64(transaction_id)
    Prior:  Hello
    Follow: TRANSFER_TOKEN_REJECT
            TRANSFER_TOKEN_ACCEPT
            TRANSFER_TOKEN_DELAY
                
IS:
  TRANSFER_TOKEN_REJECT #base64(transaction_id) "Reason"
                        list( (#key_id(blind1), "Reason1"), ...)
                        list( (#key_id(coin1), "Reason1"), ...)
                        Reasons:
                            **Haven't done this yet**
    Prior:  TRANSFER_TOKEN_REQUEST
            TRANSFER_TOKEN_RESUME
    Follow: Goodbye
    
  TRANSFER_TOKEN_ACCEPT #base64(transaction_id) "Message"
                        list(signed_blind1,...)
                        Messages:
                            **Haven't done this yet**
    Prior:  TRANSFER_TOKEN_REQUEST
            TRANSFER_TOKEN_RESUME
    Follow: Goodbye
    
  TRANSFER_TOKEN_DELAY  #base64(transaction_id) "Message"
                        Messages:
                            **Haven't done this yet**
    Prior:  TRANSFER_TOKEN_REQUEST
            TRANSFER_TOKEN_RESUME
    Follow: Goodbye



DSDB_KEY
--------------

Wallet:
  DSDB_KEY_REQUEST
    Prior:  Hello
    Follow: DSDB_KEY_PASS

IS:
  DSDB_KEY_PASS keycertificate
    Prior:  DSDB_KEY_REQUEST
    Follow: Goodbye