
    >>> from entities import Wallet, Issuer
    >>> from transports import ServerTestTransport
    >>> wallet = Wallet()
    >>> issuer = Issuer()
    >>> issuer.createKeys()

Lets test without having any keys in the mint

    >>> t = ServerTestTransport(wallet.fetchMintingKey,denomination='1')
    >>> issuer.giveMintingKey(t)
    Client <Message('HANDSHAKE',{'protocol': 'opencoin 1.0'})>
    Server <Message('HANDSHAKE_ACCEPT',None)>
    Client <Message('MINTING_KEY_FETCH_DENOMINATION','1')>
    Server <Message('MINTING_KEY_FAILURE','no key for that denomination available')>
    Client <Message('GOODBYE',None)>
    Server <Message('GOODBY',None)>
    Client <Message('finished',None)>

Now, lets have a key
    
    >>> pub1 = issuer.createSignedMintKey('1','now','later','much later')
    >>> t = ServerTestTransport(wallet.fetchMintingKey,denomination='1')
    >>> issuer.giveMintingKey(t)
    Client <Message('HANDSHAKE',{'protocol': 'opencoin 1.0'})>
    Server <Message('HANDSHAKE_ACCEPT',None)>
    Client <Message('MINTING_KEY_FETCH_DENOMINATION','1')>
    Server <Message('MINTING_KEY_PASS',[...])>
    Client <Message('GOODBYE',None)>
    Server <Message('GOODBY',None)>
    Client <Message('finished',None)>
